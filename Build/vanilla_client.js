class Network {
    socket;
    async init() {
        this.socket = new WebSocket("wss://cco-server.glitch.me");
        this.socket.addEventListener("open", () => {
            return true;
        });
        this.socket.addEventListener("error", () => {
            return false;
        });
    }
    send(data) {
        return new Promise((success, fail) => {
            this.socket.send(JSON.stringify(data));
            this.wait().then((x) => success(x));
        });
    }
    wait() {
        return new Promise((success, fail) => {
            let h = {};
            h["handler"] = (evt) => {
                this.socket.removeEventListener("message", h["handler"]);
                let msg = evt.data;
                let data = JSON.parse(msg);
                success(data);
            };
            this.socket.addEventListener("message", h["handler"]);
        });
    }
}
// Generated by CoffeeScript 2.7.0
(function() {


}).call(this);
